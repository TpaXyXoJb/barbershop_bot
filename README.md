# ‚úÇ Telegram Bot –¥–ª—è –ø–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—Å–∫–æ–π

–ë–æ—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –ø–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—Å–∫—É—é —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PostgreSQL, Redis, Alembic, Celery, Docker –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ –Ω–∞ Python.

## üì¶ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- Python 3.12 + aiogram
- PostgreSQL + SQLAlchemy (async)
- Alembic (async)
- Redis + Celery
- Docker + docker-compose
- Poetry

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
```bash
git clone https://github.com/yourname/hit-haircut-bot.git
cd hit-haircut-bot
```

### 2. –°–æ–∑–¥–∞–π `.env` –≤ –∫–æ—Ä–Ω–µ:
```env
DATABASE_URL=postgresql+asyncpg://user:password@db:5432/bot_db
REDIS_URL=redis://redis:6379/0
BOT_TOKEN=your-telegram-bot-token
```

### 3. –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç:
```bash
docker-compose up --build
```

---

## üõ† –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

üìå –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
docker-compose exec bot poetry run alembic revision --autogenerate -m "Initial migration"
```

üìå –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π:
```bash
docker-compose exec bot poetry run alembic upgrade head
```

üìå –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
poetry run pytest
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bot/
‚îú‚îÄ‚îÄ handlers/         # –•—ç–Ω–¥–ª–µ—Ä—ã –±–æ—Ç–∞
‚îú‚îÄ‚îÄ services/         # –õ–æ–≥–∏–∫–∞ –∏ —Ä–∞–±–æ—Ç–∞ —Å API DIKIDI
‚îú‚îÄ‚îÄ models/           # SQLAlchemy-–º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ database/         # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ —Å–µ—Å—Å–∏—è
‚îú‚îÄ‚îÄ utils/            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ config.py         # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ main.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ tasks.py          # Celery –∑–∞–¥–∞—á–∏

migrations/           # Alembic (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
tests/                # –¢–µ—Å—Ç—ã
Dockerfile            # –°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose.yml    # –°–µ—Ä–≤–∏—Å—ã
pyproject.toml        # Poetry
```

---

## üß™ –¢–µ—Å—Ç—ã –∏ –¥–∞–Ω–Ω—ã–µ
–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
- `pytest`
- `factory-boy`

–¢–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `tests/`. –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –±—É–¥–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è.

---

## üìå –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–æ–ª–∏
- ID –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ –º–∞—Å—Ç–µ—Ä–æ–≤ –∑–∞–¥–∞—é—Ç—Å—è –≤ `config.py`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–æ–ª–µ–π: –∫–ª–∏–µ–Ω—Ç, –º–∞—Å—Ç–µ—Ä, –≤–ª–∞–¥–µ–ª–µ—Ü

---

## üì¨ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
–ï—Å–ª–∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äî welcome –≤ Issues / Pull Requests!

---

_–ü—Ä–æ–µ–∫—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –ø–æ—à–∞–≥–æ–≤–æ._

